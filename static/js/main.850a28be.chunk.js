(this.webpackJsonpcalculator=this.webpackJsonpcalculator||[]).push([[0],{18:function(t,e,n){t.exports=n(26)},23:function(t,e,n){},24:function(t,e,n){},26:function(t,e,n){"use strict";n.r(e);var a=n(1),s=n.n(a),i=n(14),o=n.n(i),r=(n(23),n(3)),u=n(6),c=n(7),l=n(9),h=n(8),d=n(10),p=(n(24),n(28)),m=[{button:"=",id:"equals",format:null},{button:"+",id:"add",format:"+"},{button:"-",id:"subtract",format:"-"},{button:"\xd7",id:"multiply",format:"*"},{button:"\xf7",id:"divide",format:"/"},{button:".",id:"decimal",format:"."},{button:")",id:"r-bracket",format:")"},{button:"(",id:"l-bracket",format:"("},{button:"0",id:"zero",format:"0"},{button:"1",id:"one",format:"1"},{button:"2",id:"two",format:"2"},{button:"3",id:"three",format:"3"},{button:"4",id:"four",format:"4"},{button:"5",id:"five",format:"5"},{button:"6",id:"six",format:"6"},{button:"7",id:"seven",format:"7"},{button:"8",id:"eight",format:"8"},{button:"9",id:"nine",format:"9"},{button:"CE",id:"clear-ele",format:null},{button:"C",id:"clear",format:null}],w=[{button:"mod",id:"mod",format:"%"},{button:"x!",id:"factorial",format:"!"},{button:"ln",id:"ln",format:"log("},{button:"log",id:"log",format:"log10("},{button:"\u221a",id:"sqrt",format:"sqrt("},{button:"x\u207f",id:"exponent",format:"^"},{button:"sin",id:"sin",format:"sin("},{button:"cos",id:"cos",format:"cos("},{button:"tan",id:"tan",format:"tan("},{button:"\u03c0",id:"pi",format:"pi"},{button:"e",id:"e",format:"e"},{button:"Ans",id:"ans",format:"Ans"}],q=new Map([["0","zero"],["1","one"],["2","two"],["3","three"],["4","four"],["5","five"],["6","six"],["7","seven"],["8","eight"],["9","nine"],["(","l-bracket"],[")","r-bracket"],["=","equals"],["Enter","equals"],["Backspace","clear-ele"],["Delete","clear"],["+","add"],["-","subtract"],["*","multiply"],["/","divide"],["%","mod"],[".","decimal"],["p","pi"],["e","e"],["q","sqrt"],["l","ln"],["g","log"],["c","cos"],["s","sin"],["t","tan"],["a","ans"],["!","factorial"],["^","exponent"]]),b=function(t){function e(){return Object(u.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(g,null))}}]),e}(s.a.Component),g=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).state={equation:[],answer:"",prevEquation:[],showingAnswer:!1,history:[],historyIsVisible:!1},n.handleButtonPress=n.handleButtonPress.bind(Object(r.a)(n)),n.toggleHistory=n.toggleHistory.bind(Object(r.a)(n)),n.setAnswerFromHistory=n.setAnswerFromHistory.bind(Object(r.a)(n)),n.setEquationFromHistory=n.setEquationFromHistory.bind(Object(r.a)(n)),n.handleInput=n.handleInput.bind(Object(r.a)(n)),n.handleKeyDown=n.handleKeyDown.bind(Object(r.a)(n)),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"handleKeyDown",value:function(t){var e=q.get(t.key);e&&(t.preventDefault(),this.handleInput(e))}},{key:"handleButtonPress",value:function(t){this.handleInput(t.target.id)}},{key:"handleInput",value:function(t){var e=this,n=[].concat(m,w).find((function(e){return e.id===t})).format,a={},s=this.state.equation.join("");switch(t){case"equals":if(!/[*%(/+-]$/.test(s)){var i=s.replace(/\(*$/,"").replace(/Ans/g,this.state.answer);if((i+=")".repeat(this.checkOpenParenthesis(i))).length>0){var o=Object(p.a)(i);if(isNaN(o))a={answer:"error",showingAnswer:!0,prevEquation:this.state.equation,equation:[]};else{o=/e\+/.test(o)?o.toExponential(10):parseFloat(o.toFixed(10));var r=this.state.equation.map((function(t){return"Ans"===t?e.state.answer:t}));a={answer:o.toString(),prevEquation:r,equation:[],showingAnswer:!0,history:this.state.history.concat({equation:r,answer:o.toString()})}}}}break;case"clear-ele":a={equation:this.state.equation.slice(0,-1),showingAnswer:!1};break;case"clear":a={equation:[],showingAnswer:!1};break;case"decimal":/(\d*\.\d*)$/.test(s)||(a={equation:this.state.equation.concat(n),showingAnswer:!1});break;case"r-bracket":this.checkOpenParenthesis(s)&&/[\d)]$|(Ans|e|pi)$/.test(s)&&(a={equation:this.state.equation.concat(n)});break;case"divide":case"multiply":case"add":case"mod":/[*/+%]-$|\($|\(-$|\^$/.test(s)||(a=/(\*|\+|-|\/|%)$/.test(s)?{equation:this.state.equation.slice(0,-1).concat(n),showingAnswer:!1}:this.state.showingAnswer?{equation:[this.state.answer,n],showingAnswer:!1}:0===this.state.equation.length?{equation:[0,n],showingAnswer:!1}:{equation:this.state.equation.concat(n),showingAnswer:!1});break;case"subtract":/[-%]$/.test(s)||(a=this.state.showingAnswer?{equation:[this.state.answer,n],showingAnswer:!1}:/\+$/.test(s)?{equation:this.state.equation.slice(0,-1).concat(n),showingAnswer:!1}:this.state.showingAnswer?{equation:[this.state.answer,n],showingAnswer:!1}:{equation:this.state.equation.concat(n),showingAnswer:!1});break;case"exponent":if(!/\^$|\($|[*%/+-.]$/.test(s)){if(0===this.state.equation.length){a={equation:this.state.equation.concat([0,n]),showingAnswer:!1};break}for(var u=!1,c=0,l=!1,h=!0,d=0;d<this.state.equation.length;d++)"^"===this.state.equation[d]&&(l=!0,h=!1,u="("===this.state.equation[d+1],d++),l&&u?("("===this.state.equation[d]&&c++,")"===this.state.equation[d]&&c--,0===c&&(u=!1,h=!0,l=!1)):l&&isNaN(this.state.equation[d])&&!/Ans|e|pi/.test(this.state.equation[d])&&(h=!0,l=!1);h&&(a={equation:this.state.equation.concat(n),showingAnswer:!1})}break;case"factorial":/[)\d]$|(Ans|e|pi)$/.test(s)&&(a={equation:this.state.equation.concat(n),showingAnswer:!1});break;case"ans":""!==this.state.answer&&"error"!==this.state.answer&&(/[)\d]$|(Ans|e|pi)$/.test(s)?a={equation:this.state.equation.concat(["*",n]),showingAnswer:!1}:/%$/.test(s)&&"-"===this.state.answer[0]||(a={equation:this.state.equation.concat(n),showingAnswer:!1}));break;default:a="0"===this.state.equation[this.state.equation.length-1]&&isNaN(this.state.equation[this.state.equation.length-2])&&"."!==this.state.equation[this.state.equation.length-2]?{equation:this.state.equation.slice(0,-1).concat(n),showingAnswer:!1}:")"!==this.state.equation[this.state.equation.length-1]||isNaN(n)?"e"===this.state.equation[this.state.equation.length-1]||"Ans"===this.state.equation[this.state.equation.length-1]||"pi"===this.state.equation[this.state.equation.length-1]?{equation:this.state.equation.concat(["*",n]),showingAnswer:!1}:{equation:this.state.equation.concat(n),showingAnswer:!1}:{equation:this.state.equation.concat(["*",n]),showingAnswer:!1}}this.setState(a)}},{key:"checkOpenParenthesis",value:function(t){for(var e=[],n=0;n<t.length;n++)if("("===t[n]||"{"===t[n]||"["===t[n])e.push(t[n]);else if(")"===t[n]){if("("!==e.pop())return!1}else if("}"===t[n]){if("{"!==e.pop())return!1}else if("]"===t[n]&&"["!==e.pop())return!1;return e.length}},{key:"toggleHistory",value:function(){this.setState({historyIsVisible:!this.state.historyIsVisible})}},{key:"setEquationFromHistory",value:function(t){var e=t.target.parentElement.id;this.setState({equation:this.state.history[e].equation,showingAnswer:!1,answer:""})}},{key:"setAnswerFromHistory",value:function(t){var e=t.target.parentElement.id,n=this.state.equation.join("").slice(-1),a=this.state.history[e].answer;"("!==n&&this.state.equation.length>0&&(a="*"+a),this.setState({equation:this.state.equation.concat(a),showingAnswer:!1,answer:""})}},{key:"render",value:function(){var t=this;return s.a.createElement("div",{id:"calculator"},s.a.createElement(y,{answer:this.state.answer,equation:this.state.equation.join(""),prevEquation:this.state.prevEquation.join(""),showAnswer:this.state.showingAnswer}),s.a.createElement("div",{id:"button-container"},s.a.createElement(f,{id:"adv-calc-keys",keysArray:w,onClick:this.handleButtonPress}),s.a.createElement(f,{id:"basic-calc-keys",keysArray:m,onClick:this.handleButtonPress}),s.a.createElement("div",{id:"history-button-area"},this.state.historyIsVisible&&s.a.createElement("div",{id:"history"},this.state.history.map((function(e,n){var a=e.equation.join("");return a.length>30&&(a=a.slice(0,30)+"..."),s.a.createElement("div",{className:"history-item",id:n,key:n},a.length>30?s.a.createElement("p",{title:e.equation.join(""),onClick:t.setEquationFromHistory},a):s.a.createElement("p",{onClick:t.setEquationFromHistory},a),s.a.createElement("p",{onClick:t.setAnswerFromHistory},"="+e.answer))}))),s.a.createElement("button",{id:"history-button",onClick:this.toggleHistory},"History"))))}}]),e}(s.a.Component),f=function(t){function e(){return Object(u.a)(this,e),Object(l.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this,e=this.props.keysArray.map((function(e){return s.a.createElement("button",{className:"calc-button",id:e.id,key:e.id,onClick:t.props.onClick},e.button)}));return s.a.createElement("div",{id:this.props.id},e)}}]),e}(s.a.Component),y=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(l.a)(this,Object(h.a)(e).call(this,t))).formatEquationStr=n.formatEquationStr.bind(Object(r.a)(n)),n.checkOpenParenthesis=n.checkOpenParenthesis.bind(Object(r.a)(n)),n}return Object(d.a)(e,t),Object(c.a)(e,[{key:"formatEquationStr",value:function(t){for(var e=t.replace(/\//g," \xf7 ").replace(/\*/g," \xd7 ").replace(/\+/g," + ").replace(/-/g," - ").replace(/^\s-\s/g,"-").replace(/\(\s-\s/g,"(-").replace(/%/g," % ").replace(/-\D\.|^-\./g," -0.").replace(/(\D)\.|^\./g," $10.").replace(/\)(?=\d)/g,") \xd7 ").replace(/\^\s-\s(\d+\.?\d*|Ans|e|pi)?/g,"<sup>-$1</sup>").replace(/\^(\d+\.?\d*|Ans|e|pi)/g,"<sup>$1</sup>").replace(/\^$/,"<sup>\u25a1</sup>").replace(/log\(/g,"ln(").replace(/log10\(/g,"log(").replace(/sqrt/g,"\u221a").replace(/pi/g,"\u03c0").replace(/e/g,"<i>e</i>"),n=0,a=!1,s=0,i=0;i<e.length;i++)"^"===e[i]&&(n=i,"("===e[i+1]&&(a=!0),i++),a&&("("===e[i]&&s++,")"===e[i]&&s--,0!==s&&i!==e.length-1||(e=e.slice(0,n)+"<sup>"+e.slice(n+1,i+1)+"</sup>"+e.slice(i+1),a=!1));var o=this.checkOpenParenthesis(e);return o&&(e+="<span class='guide-parenthesis'>",s&&(e+="<sup>"+")".repeat(s)+"</sup>"),e+=")".repeat(o-s)+"</span>"),e}},{key:"checkOpenParenthesis",value:function(t){for(var e=[],n=0;n<t.length;n++)if("("===t[n])e.push(t[n]);else if(")"===t[n]&&"("!==e.pop())return!1;return e.length}},{key:"render",value:function(){return s.a.createElement("div",{id:"display"},s.a.createElement("div",{id:"top-display"},s.a.createElement("span",null,this.props.showAnswer?s.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.formatEquationStr(this.props.prevEquation)+" ="}}):""===this.props.answer?"":"Ans = "+this.props.answer)),s.a.createElement("div",{id:"bottom-display"},this.props.showAnswer?s.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.props.answer}}):""===this.props.equation?"0":s.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.formatEquationStr(this.props.equation)}})))}}]),e}(s.a.Component),v=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.850a28be.chunk.js.map